<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Page Not Found</title>

  <!-- Default fallback (meta refresh to Help Center after 5s) -->
  <meta http-equiv="refresh" content="5;url=/help/">

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const path = window.location.pathname;

      // Extract last segment (slug)
      const parts = path.split("/").filter(Boolean);
      const slug = parts[parts.length - 1];
      const newUrl = "/help/" + slug;

      // Try to see if the new page exists
      fetch(newUrl, { method: "HEAD" })
        .then(response => {
          if (response.ok) {
            // Redirect immediately
            window.location.replace(newUrl);
          } else {
            showFallback(slug);
          }
        })
        .catch(() => {
          showFallback(slug);
        });

      function showFallback(slug) {
        const container = document.getElementById("message");
        container.innerHTML = `
          <h1>Page Still Migrating</h1>
          <p>We couldn’t find the page <code>${slug}</code> yet.</p>
          <p>You’ll be redirected to the <a href="/help/">Help Center</a> shortly.</p>
        `;
      }
    });
  </script>
</head>
<body>
  <div id="message">
    <h1>Looking for the new page…</h1>
    <p>If nothing happens, you’ll be redirected to the <a href="/help/">Help Center</a> in 5 seconds.</p>
  </div>
</body>
</html>
