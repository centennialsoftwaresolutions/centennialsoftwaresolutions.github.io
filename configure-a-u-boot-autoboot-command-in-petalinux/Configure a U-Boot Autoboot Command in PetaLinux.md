# Configure a U-Boot Autoboot Command in PetaLinux

![xilinx_logo_1](xilinx_logo_1.png)

This post shows where to define CONFIG\_BOOTCOMMAND and CONFIG\_BOOTDELAY in a PetaLinux Tools 2017.4 build.

**Autoboot**

At the end of:

project-spec/meta-user/recipes-bsp/u-boot/files/platform-top.h

```
#define CONFIG_BOOTDELAY 10
#define CONFIG_BOOTCOMMAND "bootm 03000000 01000000 1407f000"
```

List (for example):This survives **petalinux-config**, gets picked up by **petalinux-build** and is included when you package (and un-package) a BSP.

**References**

-   U-Boot README @ [link](http://git.denx.de/?p=u-boot.git;a=blob;f=README;h=6f98e09e680d539246c279a18059c2f38ad7ce10;hb=HEAD)
    
-   Free Online HTML Escape / Unescape Tool @ [FreeFormatter.com](http://www.freeformatter.com/html-escape.html)
    
-   PetaLinux Tools 2017.4 Reference Guide UG1144 (v2017.4) December 20, 2017 @ [link](http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug1144-petalinux-tools-reference-guide.pdf)
    
-   PetaLinux Tools Documentation Workflow Tutorial UG1156 (v2017.4) December 20, 2017 @ [link](http://www.xilinx.com/support/documentation/sw_manuals/xilinx2017_4/ug1156-petalinux-tools-workflow-tutorial.pdf)
    
-   Logo via [https://twitter.com/xilinxinc](http://twitter.com/xilinxinc) at [link](http://pbs.twimg.com/profile_images/535545777020338176/pEWdIYq__400x400.png)
    

U-Boot

U-Boot lists how CONFIG\_BOOTDELAY and CONFIG\_BOOTCOMMAND work:

```
- Autoboot Command:
                CONFIG_BOOTCOMMAND
                Only needed when CONFIG_BOOTDELAY is enabled;
                define a command string that is automatically executed
                when no character is read on the console interface
                within "Boot Delay" after reset.
```

PetaLinux Tools

In the PetaLinux Tools Workflow Manual it lists:

```
"<plnx-projroot>/project-spec/m
eta-plnx-generated/recipes-bsp/
u-boot/configs"

U-Boot PetaLinux configuration files. The following files
are auto generated by petalinux-config:
• config.mk for MicroBlaze only
• platform-auto.h
• config.cfg
platform-top.h is not modified by any PetaLinux
tools. When U-Boot builds, these files are copied into
U-Boot build directory build/linux as follows:
• config is the U-Boot kconfig file.
• config.mk is copied to
board/xilinx/microblaze-generic/ for MicroBlaze.
```

```
<plnx-projroot>/project-spec/me
ta-user/recipes-bsp/u-boot/file
s/platform-top.h

• platform-auto.h and platform-top.h is copied
to include/configs/ directory.
</pre>
```